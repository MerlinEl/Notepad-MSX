if keyboard.escPressed do exit 
usage inside the loop or just for i = 1 to ...

while NOT keyboard.escPressed do .... 
this condition is checked only at the start of each iteration 
so it only makes sense to hold the escape key at that time...